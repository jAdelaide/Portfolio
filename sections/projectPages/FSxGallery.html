<!-- This is a lightbox (modal gallery) of the 4 images to demonstrate the FSx drive I set up -->
<style>
  .grid-Lightbox {
      display: grid;
      grid-template-columns: repeat(4, 300px);
      justify-content: left;
      padding-left: 20px;
      align-content: center;
      grid-gap: 10px;
      width: 100vw;
  }
  .grid-Lightbox img {
      width: 300px;
      height: auto;
      border-radius: 15px;
      border: .3px solid rgba(255, 153, 0, 0.5);
      box-shadow: 3px 3px 4px 4px rgba(0, 0, 0, 0.6);
      margin: 0;
      cursor: pointer;
  }
  #lightbox {
      position: fixed;
      z-index: 100;
      top: 0%;
      left: 0%;
      height: 100%;
      width: 100%;
      background-color: rgba(48, 36, 16, 0.7);
      backdrop-filter: blur(3px) sepia(2);
      display: none;
  }
  #lightbox.active {
      display: flex;
      justify-content:  center;
      align-items: center;
      cursor: alias;
  }
  #lightbox img {
      max-height: 90vh;
      max-width: 90vw;
      border-radius: 10px;
      border: 1.5px solid rgba(255, 255, 0, 0.7);
      box-shadow: 0 0 15px 5px rgb(255, 174, 0), 0 0 30px 25px rgb(220, 116, 2);
      cursor: default;
  }
  #prevButton,
  #nextButton {
      position: fixed;
      z-index: 1000;
      top: 50vh;
      left: 13%;
      transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
      background-color: rgba(51, 51, 63, 0.7);
      color: white;
      font-size: 16px;
      padding: 30vh 70px;
      border: none;
      border-radius: 5px;
      text-align: center;
      display: none;
      cursor: pointer;
      transition-duration: .3s;
  }
  #nextButton {
      left: 87%;
  }
  #prevButton:hover,
  #nextButton:hover {
      background-color: rgba(10, 10, 20, 0.85);
      padding: 35vh 80px;
      transition-duration: .3s;
  }
  #prevArea,      /*    extra area for navigation    */
  #nextArea {
      position: fixed;
      z-index: 900;
      top: 50vh;
      left: 25%;
      width: 30vw;
      height: 55vh;
      transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
      background-color: rgba(0, 0, 0, 0);
      display: none;
      cursor: pointer;
  }
  #nextArea {
      left: 75%;
  }
</style>

<div class="grid-Lightbox">
  <img src="../../assets/AWS FSx/1.png" title="Step 1" alt="No external drive is mapped">
  <img src="../../assets/AWS FSx/2.png" title="Step 2" alt="Mapping to my FSx drive from the EC2 instance">
  <img src="../../assets/AWS FSx/3.png" title="Step 3" alt="The external drive is now mapped">
  <img src="../../assets/AWS FSx/4.png" title="Step 4" alt="Test file saved in the FSx drive can now be accessed">
</div>

<script>
  const lightbox = document.createElement('div')
  lightbox.id = 'lightbox'
  document.body.appendChild(lightbox)

  const prevButton = document.createElement('div')
  prevButton.id = 'prevButton'
  document.body.appendChild(prevButton)

  const nextButton = document.createElement('div')
  nextButton.id = 'nextButton'
  document.body.appendChild(nextButton)

  const prevArea = document.createElement('div')
  prevArea.id = 'prevArea'
  document.body.appendChild(prevArea)

  const nextArea = document.createElement('div')
  nextArea.id = 'nextArea'
  document.body.appendChild(nextArea)

  const images = document.querySelectorAll('img')
  images.forEach(image => {
      if (image.src.includes("assets/AWS%20FSx") == true) {       //only apply lightbox to FSx images
          image.addEventListener('click', e => {
              lightbox.classList.add('active')
              const img = document.createElement('img')
              img.src = image.src
              lightbox.appendChild(img)
              document.getElementById('prevButton').style.display = 'flex';        //display prev and next buttons
              document.getElementById('nextButton').style.display = 'flex';
              document.getElementById('prevArea').style.display = 'flex';
              document.getElementById('nextArea').style.display = 'flex';
          })
      }
  })
  
  lightbox.addEventListener('click', e => {       //close the lightbox display
      if (e.target !== e.currentTarget) return        //don't close if they click on the image
      lightbox.classList.remove('active')
      lightbox.removeChild(lightbox.firstChild)
      document.getElementById('prevButton').style.display = 'none';
      document.getElementById('nextButton').style.display = 'none';
      document.getElementById('prevArea').style.display = 'none';
      document.getElementById('nextArea').style.display = 'none';
  })
  prevButton.addEventListener('click', e => {
      prevImage();
  })
  prevArea.addEventListener('click', e => {       //extra area for navigation
      prevImage();
  })
  nextButton.addEventListener('click', e => {
      nextImage();
  })
  nextArea.addEventListener('click', e => {
      nextImage();
  })
  
  function prevImage() {
      var imageSource = lightbox.firstChild.src;
      var sourceEnd = imageSource.split("FSx/")[1];
      var imageNumber = sourceEnd.split(".")[0];
      var newNumber = Number(imageNumber) - 1;
      if (newNumber == 0) {
          newNumber = 4;
      }
      var newEnd = String(newNumber) + "." + sourceEnd.split(".")[1];
      var newSource = imageSource.split("FSx/")[0] + "FSx/" + newEnd;
      lightbox.firstChild.src = newSource;
  }
  function nextImage() {
      var imageSource = lightbox.firstChild.src;
      var sourceEnd = imageSource.split("FSx/")[1];
      var imageNumber = sourceEnd.split(".")[0];
      var newNumber = Number(imageNumber) + 1;
      if (newNumber == 5) {
          newNumber = 1;
      }
      var newEnd = String(newNumber) + "." + sourceEnd.split(".")[1];
      var newSource = imageSource.split("FSx/")[0] + "FSx/" + newEnd;
      lightbox.firstChild.src = newSource;
  }
</script>